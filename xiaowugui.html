<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>极致密集密集弹窗</title>
    <style>
        .tip-box {
            position: fixed;
            width: 120px; /* 极致缩小尺寸，容纳更多弹窗 */
            padding: 8px;
            border-radius: 6px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-family: "微软雅黑", sans-serif;
            font-size: 12px; /* 极小字体，适配窄弹窗 */
            z-index: 9999;
            transition: opacity 0.15s ease; /* 更快的淡入淡出 */
        }

        .close-btn {
            position: absolute;
            top: 2px;
            right: 2px;
            width: 14px;
            height: 14px;
            border: none;
            background: rgba(255,255,255,0.7);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 9px;
            padding: 0;
            line-height: 1;
        }

        .tip-text {
            text-align: center;
            margin: 2px 0;
            line-height: 1.3;
        }

        /* 控制按钮样式强化，避免被弹窗遮挡 */
        .control-btn {
            position: fixed;
            bottom: 20px;
            z-index: 10000;
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            background: #333;
            color: white;
            cursor: pointer;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        #pauseBtn { left: 20px; }
        #clearBtn { left: 120px; } /* 按钮分开，避免误触 */
    </style>
</head>
<body>
    <!-- 控制按钮：强化样式，确保能点击 -->
    <button class="control-btn" id="pauseBtn">暂停</button>
    <button class="control-btn" id="clearBtn">清空</button>

    <script>
        // 极致密集核心配置
        const config = {
            showDuration: 8000,   // 单个弹窗显示8秒（平衡密集度和卡顿）
            interval: 150         // 每150毫秒弹出1个（每秒≈6.7个，密集核心）
        };

        // 精简提示文字（适配小弹窗）
        const tips = [
            '多喝水', '微笑', '元气', '吃水果', '开心', 
            '爱自己', '想你', '圆梦', '见面', '加油',
            '顺利', '早睡', '无愁', '别熬', '开心吗', '添衣'
        ];

        // 更柔和的背景色（避免密集时刺眼）
        const bgColors = [
            '#FFE4E1', '#E0F7FA', '#E8F5E9', '#F3E5F5',
            '#FFF8E1', '#FCE4EC', '#FFEBEE', '#E3F2FD', '#F5F5F5'
        ];

        let allTips = []; // 管理所有弹窗
        let createTimer = null;
        let isPaused = false;

        // 创建单个弹窗（极致紧凑逻辑）
        function createNewTip() {
            const tipBox = document.createElement('div');
            tipBox.className = 'tip-box';
            allTips.push(tipBox);

            // 关闭按钮
            const closeBtn = document.createElement('button');
            closeBtn.className = 'close-btn';
            closeBtn.textContent = '×';

            // 提示文字
            const tipText = document.createElement('div');
            tipText.className = 'tip-text';
            tipText.textContent = tips[Math.floor(Math.random() * tips.length)];

            // 组装
            tipBox.appendChild(closeBtn);
            tipBox.appendChild(tipText);
            document.body.appendChild(tipBox);

            // 随机样式与分散位置
            tipBox.style.backgroundColor = bgColors[Math.floor(Math.random() * bgColors.length)];
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;
            const boxWidth = 120;
            const boxHeight = tipBox.offsetHeight;
            // 更分散的随机位置：增加边缘留白，避免集中
            const randomX = Math.floor(Math.random() * (screenWidth - boxWidth - 60)) + 30;
            const randomY = Math.floor(Math.random() * (screenHeight - boxHeight - 60)) + 30;
            tipBox.style.left = `${randomX}px`;
            tipBox.style.top = `${randomY}px`;

            // 自动消失
            const autoCloseTimer = setTimeout(() => {
                tipBox.style.opacity = '0';
                setTimeout(() => {
                    tipBox.remove();
                    allTips = allTips.filter(item => item !== tipBox);
                }, 150);
            }, config.showDuration);

            // 手动关闭
            closeBtn.addEventListener('click', () => {
                clearTimeout(autoCloseTimer);
                tipBox.style.opacity = '0';
                setTimeout(() => {
                    tipBox.remove();
                    allTips = allTips.filter(item => item !== tipBox);
                }, 150);
            });
        }

        // 暂停/继续控制
        function toggleCreateTips() {
            const pauseBtn = document.getElementById('pauseBtn');
            if (isPaused) {
                createNewTip();
                createTimer = setInterval(createNewTip, config.interval);
                pauseBtn.textContent = '暂停';
            } else {
                clearInterval(createTimer);
                pauseBtn.textContent = '继续';
            }
            isPaused = !isPaused;
        }

        // 清空所有弹窗
        function clearAllTips() {
            allTips.forEach(tip => {
                tip.style.opacity = '0';
                setTimeout(() => tip.remove(), 150);
            });
            allTips = [];
        }

        // 绑定控制事件
        document.getElementById('pauseBtn').addEventListener('click', toggleCreateTips);
        document.getElementById('clearBtn').addEventListener('click', clearAllTips);

        // 启动
        window.addEventListener('load', () => {
            createNewTip();
            createTimer = setInterval(createNewTip, config.interval);
        });
    </script>
</body>
</html>